# 자동 개발 파이프라인 핵심 기획서 v1.0

> **픽셀 오피스의 존재 이유: 피드백만 넣으면 알아서 앱이 업데이트된다**

---

## 1. 핵심 콘셉트

### 한 줄 정의
사용자가 요구사항이나 피드백을 입력하면, AI 직원들이 기획→디자인→개발→QA→배포를 자동으로 수행하여 앱을 업데이트하는 시스템

### 사용자 경험 시나리오
```
1. 사용자: "로그인 화면에 소셜 로그인 버튼 추가해줘"
2. [자동] 기획 직원: 요구사항 분석 → 기능 명세 작성
3. [자동] 디자인 직원: UI 설계 → 컴포넌트 배치 결정
4. [자동] 개발 직원: SwiftUI 코드 생성 → 프로젝트에 반영
5. [자동] QA 직원: 빌드 확인 → 테스트 실행
6. [자동] 배포: 빌드 성공 → TestFlight/App Store 업로드
7. 사용자: "완료됐습니다" 알림 수신 → 결과 확인
```

### 핵심 원칙
| 원칙 | 설명 |
|------|------|
| **최소 입력** | 사용자는 자연어 한 줄만 입력하면 된다 |
| **완전 자동** | 기획부터 배포까지 사람 개입 없이 진행 |
| **투명한 진행** | 각 단계가 픽셀아트 사무실에서 시각적으로 보인다 |
| **안전한 실패** | 실패 시 자동 수정하고, 그래도 안되면 사용자에게 물어본다 |
| **반복 가능** | 결과물에 대한 피드백도 동일한 파이프라인으로 처리 |

---

## 2. 파이프라인 아키텍처

### 전체 흐름

```
┌─────────────────────────────────────────────────────────────┐
│                    사용자 입력                                │
│  "결제 화면에서 카드 등록 기능 추가해줘"                         │
└──────────────────────┬──────────────────────────────────────┘
                       ▼
┌──────────────────────────────────────────────────────────────┐
│  Phase 1: 입력 수집                                          │
│  ┌──────────────┐  ┌──────────────────────┐                 │
│  │ 자연어 파싱   │  │ 프로젝트 컨텍스트 로드 │                 │
│  └──────┬───────┘  └──────────┬───────────┘                 │
│         └──────────┬──────────┘                              │
└────────────────────┼─────────────────────────────────────────┘
                     ▼
┌──────────────────────────────────────────────────────────────┐
│  Phase 2: 작업 분해                                          │
│  ┌────────────────────────────────────────┐                  │
│  │ 요구사항 → 부서별 작업 목록 자동 생성     │                  │
│  │ - 기획 작업 2건                          │                  │
│  │ - 디자인 작업 1건                        │                  │
│  │ - 개발 작업 3건                          │                  │
│  │ - QA 작업 1건                            │                  │
│  └────────────────────┬───────────────────┘                  │
└───────────────────────┼──────────────────────────────────────┘
                        ▼
┌──────────────────────────────────────────────────────────────┐
│  Phase 3: 자동 실행 (AI 직원들이 순차/병렬 수행)               │
│                                                              │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐  │
│  │ 기획 AI  │ →  │ 디자인AI │ →  │ 개발 AI  │ →  │  QA AI  │  │
│  │ PRD 작성 │    │ UI 설계  │    │코드 생성 │    │빌드/테스트│  │
│  └─────────┘    └─────────┘    └─────────┘    └─────────┘  │
└──────────────────────┬───────────────────────────────────────┘
                       ▼
┌──────────────────────────────────────────────────────────────┐
│  Phase 4: 검증 & 배포                                        │
│  ┌─────────────┐  ┌──────────┐  ┌────────────────┐         │
│  │ 빌드 확인    │→ │ 자동 서명 │→ │ TestFlight 배포 │         │
│  └─────────────┘  └──────────┘  └────────────────┘         │
│         │ 실패 시                                            │
│         └──→ Self-Healing (자동 수정 후 재시도)               │
└──────────────────────┬───────────────────────────────────────┘
                       ▼
┌──────────────────────────────────────────────────────────────┐
│  Phase 5: 피드백                                             │
│  "완료" 알림 → 사용자 확인 → 추가 피드백 → Phase 1로 복귀      │
└──────────────────────────────────────────────────────────────┘
```

---

## 3. Phase별 상세 설계

### Phase 1: 입력 수집

**목표**: 사용자의 의도를 정확히 파악하고, 프로젝트 맥락을 함께 전달

| 항목 | 내용 |
|------|------|
| 입력 방식 (MVP) | 텍스트 입력 |
| 입력 방식 (확장) | 스크린샷 첨부, 음성 입력, 에러 로그 붙여넣기 |
| 컨텍스트 자동 수집 | 프로젝트 구조, 기술 스택, 기존 코드, 이전 변경 이력 |
| 핵심 과제 | 사용자가 "로그인 추가해줘"만 말해도 어떤 프로젝트의 어떤 부분에 어떤 방식으로 추가할지 AI가 추론 |

### Phase 2: 작업 분해

**목표**: 하나의 요구사항을 부서별 실행 가능한 작업 단위로 분해

| 항목 | 내용 |
|------|------|
| 분해 기준 | 기획 → 디자인 → 개발 → QA (기본 순서) |
| 병렬 처리 | 독립적인 작업은 동시 실행 (예: 서버 API 개발 + UI 개발) |
| 의존성 관리 | 작업 간 선후 관계 자동 판단 |
| 규모 판단 | 소규모(수정) vs 대규모(신규 기능) 자동 분류하여 파이프라인 깊이 조절 |

### Phase 3: 자동 실행

**목표**: 각 AI 직원이 자기 역할에 맞는 작업을 자동 수행

#### 기획 AI
- 요구사항을 구조화된 기능 명세(PRD)로 변환
- 기존 기능과의 충돌/중복 확인
- 디자인·개발팀에 전달할 스펙 작성

#### 디자인 AI
- 기능 명세를 기반으로 UI 구조 설계
- 기존 디자인 시스템과의 일관성 유지
- 컴포넌트 배치, 네비게이션 플로우 결정

#### 개발 AI (Claude Code 활용)
- 디자인 스펙을 기반으로 SwiftUI 코드 생성
- 기존 프로젝트 구조·컨벤션에 맞게 코드 작성
- 파일 생성/수정, import 관리, 의존성 처리

#### QA AI
- 생성된 코드 빌드 시도
- 기본 테스트 실행 (단위 테스트, UI 테스트)
- 빌드 실패 시 에러 분석 → 개발 AI에 수정 요청

### Phase 4: 검증 & 배포

**목표**: 검증된 코드를 실제 앱 업데이트로 반영

| 단계 | 내용 |
|------|------|
| 빌드 검증 | Tuist generate → Xcode Build 자동 실행 |
| Self-Healing | 빌드 실패 시 에러 로그 분석 → 자동 코드 수정 → 재빌드 (최대 3회) |
| 서명 | 자동 코드 서명 (인증서/프로비저닝 프로필 관리) |
| 배포 | TestFlight 업로드 또는 App Store 제출 |
| 알림 | 사용자에게 "완료" 또는 "수동 확인 필요" 알림 |

### Phase 5: 피드백 & 반복

**목표**: 결과물에 대한 피드백이 다시 파이프라인의 입력이 됨

- 사용자가 결과물 확인 후 추가 피드백 입력
- 동일한 파이프라인이 다시 실행됨 (Phase 1 복귀)
- 이전 변경 사항을 컨텍스트로 가지고 있어 연속적인 개선 가능
- 변경 이력 관리 및 필요 시 롤백 지원

---

## 4. 기술적 핵심 과제

### 4.1 프로젝트 컨텍스트 관리
- 각 프로젝트의 코드 구조, 기술 스택, 변경 이력을 AI가 항상 파악하고 있어야 함
- 22개 프로젝트를 독립적으로 관리하면서 컨텍스트 전환이 빨라야 함
- Claude Code의 컨텍스트 윈도우 한계를 고려한 요약/색인 시스템 필요

### 4.2 Claude Code 연동
- 코드 생성의 핵심 엔진으로 Claude Code 활용
- 프롬프트 엔지니어링: 프로젝트 컨텍스트 + 작업 명세를 최적의 프롬프트로 변환
- 생성된 코드의 품질 검증 및 프로젝트 컨벤션 준수 확인

### 4.3 빌드 시스템 연동
- Tuist + Xcode 빌드 자동화
- 빌드 에러 파싱 및 자동 수정 로직
- macOS 로컬 환경에서의 빌드 → 원격 빌드(Xcode Cloud) 확장 가능성

### 4.4 안전장치
- 위험한 변경(데이터 삭제, 핵심 로직 변경) 시 사용자 확인 요청
- 모든 변경은 Git 커밋으로 기록, 언제든 롤백 가능
- 자동 수정 루프의 무한 반복 방지 (최대 재시도 횟수)

---

## 5. MVP 범위 (제안)

### MVP에서 반드시 구현할 것
1. **텍스트 입력 → 작업 분해** (Phase 1~2)
2. **AI 개발 직원이 코드 생성** (Phase 3 - 개발 파트)
3. **자동 빌드 및 성공/실패 판단** (Phase 4 - 빌드 파트)
4. **빌드 실패 시 자동 수정 1회 시도** (Phase 4 - Self-Healing 기본)

### MVP에서 제외할 것 (v2 이후)
- 디자인 AI 자동 실행 (MVP에서는 개발 직원이 기존 디자인 패턴 따름)
- App Store 자동 배포 (MVP에서는 빌드 성공까지만)
- 멀티 프로젝트 동시 관리 (MVP에서는 단일 프로젝트)
- 음성/스크린샷 입력

### MVP 사용자 경험
```
사용자: "설정 화면에 다크모드 토글 추가해줘"
    ↓
시스템: 요구사항 분석 중... → 코드 생성 중... → 빌드 중...
    ↓
시스템: "완료! Settings.swift에 다크모드 토글을 추가했습니다."
    ↓
사용자: "토글 위치를 맨 위로 올려줘"
    ↓
시스템: (동일 파이프라인 반복)
```

---

## 6. 경쟁사 대비 차별점

| 구분 | Cursor/Copilot | Replit Agent | Devin | **픽셀 오피스** |
|------|---------------|-------------|-------|---------------|
| 범위 | 코드 편집 보조 | 앱 생성 | 개발 작업 수행 | **개발 프로세스 전체 관리** |
| 기획 | ✗ | ✗ | △ | **✓ AI 기획 직원** |
| 디자인 | ✗ | △ | ✗ | **✓ AI 디자인 직원** |
| 개발 | ✓ | ✓ | ✓ | **✓ AI 개발 직원** |
| QA | ✗ | △ | △ | **✓ AI QA 직원** |
| 배포 | ✗ | ✓ (웹) | ✗ | **✓ 네이티브 앱 배포** |
| 유지보수 | ✗ | ✗ | ✗ | **✓ 22개 앱 동시 관리** |
| 시각화 | ✗ | ✗ | ✗ | **✓ 픽셀아트 가상 오피스** |

---

## 7. 다음 단계

1. **즉시**: MVP 범위 최종 확정 → 팀 합의
2. **이번 주**: Phase 1~2 상세 설계 착수
3. **다음 주**: Claude Code 연동 PoC (Proof of Concept)
4. **2주 내**: 단일 프로젝트 End-to-End 파이프라인 프로토타입

---

*작성: 기획팀 리이오 | 버전: 1.0 | 최종 수정: 2026-02-07*